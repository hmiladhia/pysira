\BLOCK{ if skills }

\cvsection{\VAR{language.titles.skills}}

\BLOCK{ for skillset in skills }
\cvsubsection{\VAR{skillset.name | escape }}
\BLOCK{ if options.batch_number -}
\BLOCK{ for keywords_batch in skillset.keywords | batch(options.batch_number) -}
\BLOCK{ for key in keywords_batch -}
\BLOCK{ set key = key | escape }
\BLOCK{ set icon = key.lower().split(' ')[0] | regex_replace('[_\\/]', '-') | regex_replace("[^A-Za-z\d\-]","") }
\BLOCK{ if icon == 'git' }
\BLOCK{ set icon = 'git-square' }
\BLOCK{ elif icon == 'azure' }
\BLOCK{ set icon = 'microsoft' }
\BLOCK{ endif }
\cvtag{\VAR{ extra.icons.fontawesome.get(icon, '') } \VAR{key}}
\BLOCK{ endfor }

\BLOCK{ endfor -}
\BLOCK{ else -}
\BLOCK{ for key in skillset.keywords -}
\BLOCK{ set key = key | escape }
\BLOCK{ set icon = key.lower().split(' ')[0] | regex_replace('[_\\/]', '-') | regex_replace("[^A-Za-z\d\-]","") }
\BLOCK{ if icon == 'git' }
\BLOCK{ set icon = 'git-square' }
\BLOCK{ elif icon == 'azure' }
\BLOCK{ set icon = 'microsoft' }
\BLOCK{ endif }
\cvtag{\VAR{ extra.icons.fontawesome.get(icon, '') } \VAR{key}}
\BLOCK{ endfor }
\BLOCK{ endif }

\VAR{ "\divider" if not loop.last else "" }
\BLOCK{ endfor -}
\BLOCK{endif}
